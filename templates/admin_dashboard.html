{% extends "admin_base.html" %}
{% block title %}Admin Dashboard{% endblock %}

{% block content %}

<style>
  .dashboard {
    background: #ffffff;
    width: 600px;
    border-radius: 14px;
    padding: 30px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    animation: fadeIn 0.6s ease-in-out;
  }

  h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #4a4a4a;
  }

  .stat-card {
    background: linear-gradient(135deg, #43cea2, #185a9d);
    color: white;
    padding: 18px;
    border-radius: 10px;
    text-align: center;
    font-size: 18px;
    margin-bottom: 25px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 25px;
  }

  th, td {
    padding: 12px;
    text-align: left;
  }

  th {
    background: #667eea;
    color: white;
    border-radius: 6px;
  }

  tr:nth-child(even) {
    background: #f4f6ff;
  }

  .actions a {
    display: block;
    text-decoration: none;
    text-align: center;
    padding: 12px;
    border-radius: 8px;
    font-weight: bold;
    margin-bottom: 10px;
  }

  .create {
    background: linear-gradient(135deg, #ff9966, #ff5e62);
    color: white;
  }

  .logout {
    background: #eeeeee;
    color: #333;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<div class="dashboard">
  <h2>ðŸ‘‘ Admin Dashboard</h2>

  <div class="stat-card">
    Total Users<br>
    <span style="font-size:32px; font-weight:bold;">
      {{ total_users }}
    </span>
  </div>

<h3>ðŸ‘¥ All Registered Users</h3>

<table>
  <tr>
    <th>ID</th>
    <th>Username</th>
    <th>Registered On</th>
  </tr>

  {% for u in users %}
  <tr>
    <td>{{ u.id }}</td>
    <td>{{ u.name }}</td>
    <td>{{ u.created.strftime("%Y-%m-%d %H:%M") }}</td>
  </tr>
  {% endfor %}
</table>


    {% if session.admin %}
      <a class="create" href="/ExpenseTracker/Admin/Create">
        âž• Create Admin
      </a>
    {% endif %}

    <a class="logout" href="/ExpenseTracker/Admin/Logout">
      ðŸšª Logout
    </a>
  </div>
</div>

{% endblock %}
